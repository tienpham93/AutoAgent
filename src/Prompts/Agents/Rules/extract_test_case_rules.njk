------------------------------
ğŸ“¤ OUTPUT SCHEMA: A VALID JSON object with this exact structure:
[
    {
        "title": "string",
        "steps": [
            {
                "action": "string",
                "expectedResults": ["string"],
                "notes": ["string"],
                "pwSpecificSkillsPaths": ["string"],
                "pageContexts": ["string"],
                "pageWorkflows": ["string"],
            }
        ]
    }
]
------------------------------
ğŸ“‹ EXTRACTION RULES:
    1ï¸âƒ£. General rules:
        ğŸ“Œ Do not include markdown formatting (like bold) in the output JSON values.
        ğŸ“Œ If test file has more than one testcase, please append them to the array
        ğŸ“Œ Output only the array of JSON object.
    2ï¸âƒ£. PROCESSING HOOKS (Setups & Teardowns):
        ğŸ“Œ Check Existence: specific sections for Setups and Teardowns under the Hooks header.
        ğŸ“Œ Condition: If Setups or Teardowns are missing, empty, or explicitly marked as "N/A", IGNORE them. Do not add empty steps to the list.
        ğŸ“Œ Action (If valid content exists):
            ğŸ‘‰ Setups: Extract actions and PREPEND them to the start of the steps list.
            ğŸ‘‰ Teardowns: Extract actions and APPEND them to the end of the steps list.
            ğŸ‘‰ Default fields: Set expectedResults and notes to empty lists [] for these steps unless explicitly stated in the text.
    3ï¸âƒ£. Processing Main Steps:
        ğŸ“Œ Extract the numbered list from Step Actions and place them between the Setups and Teardowns.
    4ï¸âƒ£. Mapping Expected Results:
        ğŸ“Œ Look at the Expected Result section.
        ğŸ“Œ Map each result to the specific step action that triggers it. (e.g., If Step 5 is "Click Search" and Expected Result says "Search page opens", move that text into Step 5's expectedResults).
        ğŸ“Œ If a step has no corresponding expected result, return [].
        ğŸ“Œ If there are multiple sub-results (e.g., 6.1, 6.2), append all of them to that step's expectedResults list.
    5ï¸âƒ£. Mapping Notes:
        ğŸ“Œ Look for bold text (e.g., Suggestion) inside any Step Action.
        ğŸ“Œ Cross-reference the Notes section for that keyword.
        ğŸ“Œ If found, copy the full definition from the Notes section into the notes list of that step.
        ğŸ“Œ If a step contains multiple bold keywords, append all corresponding notes.
    6ï¸âƒ£. PLAYWRIGHT SPECIFIC SKILLS MAPPING RULES:
        ğŸ“Œ Analyze the 'action' and 'notes' of each step.
        ğŸ“Œ Compare against the ğŸ“š PLAYWRIGHT CORE SKILLS and ğŸ“š PLAYWRIGHT SKILLS CATALOG.
        ğŸ“Œ Populate "pwSpecificSkillsPaths" with the relative paths of the required .njk files.
    7ï¸âƒ£. PAGE KNOWLEDGE MAPPING RULES (Contexts & Workflows):
        ğŸ“Œ Analyze the intent of the step (e.g., is the user on the Homepage, Search Results, or Payment page?).
        ğŸ“Œ Compare the step action against the ğŸ“š PAGE KNOWLEDGE CATALOG provided in the additional contexts.
        ğŸ“Œ Mapping Contexts: Populate pageContexts with the file path of the relevant page context (e.g., "Contexts/homepage_context.njk").
        ğŸ“Œ Mapping Workflows: Populate pageWorkflows with the file path of the relevant workflow instruction (e.g., "Workflows/search_workflow.njk").
        ğŸ“Œ If a step transitions from one page to another, include the knowledge for the destination page.
        ğŸ“Œ Optimization Rule: To save tokens, only provide page knowledge (Contexts and Workflows) when the "Page State" changes.
        ğŸ“Œ Injection Logic:
            ğŸ‘‰ First Step: Always populate pageContexts and pageWorkflows for the very first step of the test.
            ğŸ‘‰ Page Transitions: Only populate these fields again if a step involves navigating to a NEW page or URL (e.g., moving from "Homepage" to "Search Results").
            ğŸ‘‰ Same-Page Sequence: If multiple consecutive steps occur on the same page, set pageContexts and pageWorkflows to [] for all steps after the first one.
------------------------------
{{ AdditionalContexts }}
------------------------------