------------------------------
âš“ CURRENT PAGE STATE
    ğŸ‘‰ URL: {{ currentUrl }}
    ğŸ‘‰ PAGE ELEMENTS SNAPSHOT (Accessibility Tree):
    {{ elementsTree }}
------------------------------
ğŸ§µ TASK
    ğŸ‘‰ STEP TO EXECUTE: "{{ step }}"
    ğŸ‘‰ CRITICAL NOTES: {{ contextNotes | default('None') }}
------------------------------
ğŸ“š KNOWLEDGE BASE:
    ğŸ‘‰ PAGE CONTEXTS: {{ pageContexts | default('Same as previous steps') }}
    ğŸ‘‰ PAGE WORKFLOWS: {{ pageWorkflows | default('Same as previous steps') }}
------------------------------
ğŸ… PLAYWRIGHT SPECIFIC SKILLS: 
    {{ playwrightSpecificSkills | default('N/A') }}
------------------------------
{% if error %}
âš ï¸ PREVIOUS ATTEMPT FAILED âš ï¸
    ğŸ‘‰ ERROR ENCOUNTERED: "{{ error }}"
------------------------------
ğŸ“‹ RECOVERY INSTRUCTION:
    1ï¸âƒ£. Analyze the Error Message above.
    2ï¸âƒ£. If the error suggests a timeout, probably the elements doesn't present, so that must look for the notes in that step first.
    3ï¸âƒ£. Find instructions in page contexts and workflows to better address the step.
    4ï¸âƒ£. If the errors regarding elements/locators, hence Do NOT repeat the exact same code/selector.
    5ï¸âƒ£. Use the "CURRENT PAGE STATE" to find a better selector (e.g., if ID failed, try text or aria-label).
{% endif %}