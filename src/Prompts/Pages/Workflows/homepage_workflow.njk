ğŸ  HOMEPAGE & SEARCH WORKFLOW
===============
ğŸš¦ EXECUTION LOGIC:
    ğŸ” REF IDENTIFICATION:
        ğŸ“Œ Analyze the current YAML snapshot. Map the step's keyword (e.g., "Destination") to a stable name/role (e.g., `combobox "Enter a destination..."`).
        ğŸ“Œ Extract the current volatile `[ref=eXXX]`. Never reuse a ref from a previous step without verifying the current snapshot.
    ğŸ› ï¸ INTERACTION STRATEGY:
        ğŸ“Œ Check Context Notes for "Blocking Behavior": Does an overlay (like the App Promo [ref=e593]) exist in the tree? If yes, brainstorm a "Clear Blocker" step first.
        ğŸ“Œ Check Context Notes for "Selection Requirement": For inputs like Destination, typing is not enough. Brainstorm a two-act play: 1. `fill` text -> 2. `click` the resulting suggestion ref.
        ğŸ“Œ Check Context Notes for "Sequential Logic": If clicking a Check-in box, brainstorm that the next snapshot will contain a `dialog` or `grid` that wasn't there before.
    ğŸ•¹ï¸ CLI COMMAND SELECTION: 
        ğŸ“Œ Based on the element type and the analyzed note, select the most precise command (`fill`, `type`, `click`, or `press Enter`).
===============
ğŸš¦ DECISION LOGIC:
    ğŸŸ¢ Status: CONTINUE
        ğŸ•¹ï¸ Trigger: Sequential execution of Search Form.
        ğŸ¬ Specific Conditions:
            ğŸ“Œ Search Input: The listbox/suggestions appear in the tree after `fill`.
            ğŸ“Œ Date Picker: The `dialog "Check Out Date Picker" [ref=e1720]` is visible after clicking Check-in.
    ğŸŸ  Status: RETRY
        ğŸ•¹ï¸ Trigger: UI Latency or Overlays.
        ğŸ¬ Scenarios & Fixes:
            ğŸ“Œ Scenario: Blocker Overlay.
                Fix: Locate `button "Close" [ref=e593]` and click it first.
            ğŸ“Œ Scenario: No suggestions appear.
                Fix: `playwright-cli fill <ref> ""` -> Wait 500ms -> `playwright-cli type <ref> "Keyword"` -> `playwright-cli snapshot`.
            ğŸ“Œ Scenario: Target Date is not in current view (e.g., Apr 2026).
                Fix: Find `button "Next Month" [ref=e1728]` -> click -> `snapshot` -> Repeat.
    ğŸ”µ Status: SKIP
        ğŸ•¹ï¸ Trigger: State already matches requirements.
        ğŸ¬ Scenarios:
            ğŸ“Œ Service Tabs: If `tab "Hotels" [ref=e84]` has attribute `[selected]`, SKIP clicking it.
            ğŸ“Œ Occupancy: If `button "Guests and rooms..." [ref=e162]` text already matches requirement, SKIP interaction.
    ğŸ”´ Status: ABORT
        ğŸ•¹ï¸ Trigger: Functional failure.
        ğŸ¬ Scenarios:
            ğŸ“Œ Missing Ref: Critical element (like SEARCH [ref=e182]) cannot be found in the YAML tree after 3 snapshots.
        ğŸ“Œ Dialog Freeze: Clicking Check-in does not produce the `dialog [ref=e1720]` in the tree.
===============
ğŸ¯ TEST COMPLETION SIGNALS:
    âœ… COMPLETE (PASS)
        ğŸ–ï¸ Criteria: `playwright-cli click <SEARCH_REF>` is executed successfully.
        ğŸ–ï¸ Validation: The subsequent `playwright-cli snapshot` shows a URL containing `/search` or a "Sort & Filter" region.
    âŒ FAILURE (FAIL)
        ğŸ–ï¸ Criteria: The agent encounters an ABORT condition or remains "Stuck" (cannot find a required ref) for more than 3 interaction loops.