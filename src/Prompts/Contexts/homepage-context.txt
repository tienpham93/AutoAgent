# Homepage
===============
## Description:
The landing page of the Agoda Online Travel Agency application. It serves as the primary entry point for users to search for accommodations, flights, and other travel services. The page features a central search widget, promotional carousels, and destination recommendations.
===============
## Structure:
- The page is divided into vertical sections:
    + Header: Authentication, Language, Currency.
    + Hero Section: Contains the Service Tabs (Hotels, Flights, etc.) and the Main Search Form.
    + Promotional Content: Dynamic carousels for Top Destinations, Accommodation Promotions, and Flagship Properties.
    + Footer: Legal, links, and SEO content.
===============
## Components:
1. Search Input field:
- Keywords in testcase: search field, search bar, Enter a destination or property, destination input
- Locator references: [data-selenium="textInput"]
- Function: To input a specific destination, hotel name, landmark, or address to query availability.
- Interaction and Keynotes:
    + Click Interaction: Clicking the empty field opens the Auto-complete Panel ([data-selenium="autocompletePanel"]) displaying "Top Destinations" or recent searches.
    + Typing Interaction: Entering text triggers a network request to fetch suggestions. The Auto-complete panel updates to show a list of matches ([data-testid="autosuggest-item"]).
    + Selection Requirement: Users must select an option from the Auto-complete Panel (by clicking a [data-testid="autosuggest-item"]) to populate the field validly.
    + Blocking Behavior: While the Auto-complete Panel is open, it may visually obscure other elements. Select an item or click outside to close it before attempting to interact with Date or Occupancy fields.

2. Checkin and checkout Box:
- Keywords in test case: check in, check out, date, calendar, duration
- Locator references: [data-element-name="check-in-box"], [data-element-name="check-out-box"] (Legacy alias: [data-selenium="checkInBox"])
- Function: triggers the display of the Date Picker component. Displays the currently selected dates in dd/mmm/yyyy format.
- Interaction and Keynotes:
    + Sequential Logic: Clicking the Check-in box opens the calendar. Once a check-in date is selected, the calendar automatically highlights the range and prompts for a check-out date.
    + State validation: Ensure the element text reflects the chosen dates after selection.

3. Checkin or checkout date picker:
- Keywords in test case: date picker, calendar, next month, previous month, select date
- Locator references:
    + Container: [data-selenium="rangePickerCheckIn"] or [data-selenium="rangePickerCheckOut"]
    + Navigation: [data-selenium="calendar-next-month-button"], [data-selenium="calendar-previous-month-button"]
    + Day Cell: [data-selenium="calendar-day-{date}"] (Format often varies, generally requires text matching or aria-label).
- Interaction and Keynotes:
    + Visibility: Only visible after clicking the Check-in/Check-out box.
    + Date Logic: The test script must calculate dates relative to the current system date (e.g., "Next Friday").
    + Pagination: The view defaults to 2 months. If the target date is outside this range, the script must loop click the Next Month Button until the target month is visible.
    + Blocking: This is a modal-like popover. It must be closed (by selecting dates or clicking outside) before interacting with the Occupancy Box or Search Button.

4. Occupancy Box:
- Keywords in test case: guests, rooms, adults, children, people, family size
- Locator references: [data-selenium="occupancyBox"]
- Function: Displays the current count of rooms and guests. Opens a popover to modify these values.
- Interaction and Keynotes:
    + Popover: Clicking opens a popover containing counters for "Room", "Adult", and "Children".
    + Counters: Inside the popover, use generic selectors or aria-labels (e.g., aria-label="Increase adults", aria-label="Decrease adults") to adjust numbers.
    + Children Logic: Adding a child often triggers an additional dropdown to specify the child's age.
    + Closing: Click outside the popover or click the specific "Done" button (if present) to apply changes.

5. Search Button:
- Keywords in test case: search, find, submit query
- Locator references: [data-element-name="search-button"]
- Function: Submits the search form data to the backend and navigates to the Search Results Page (SRP).
- Interaction and Keynotes:
    + Prerequisite: This button functions correctly only if Destination, Dates, and Occupancy are valid.
    + Navigation: Clicking this triggers a page load. Automation scripts should await the load event or the appearance of a result element on the next page.

6. Top Destinations Carousel
- Keywords in test case: popular cities, top destinations, carousel, slide
- Locator references:
    + Section: [data-element-name="top-destination-cities"]
    + Card Container: [data-item-id="carousel-card-container"]
    + Next Arrow: [aria-label="Next destination"]
    + Previous Arrow: [aria-label="Previous"]
    + City Name: [data-testid="destination-card-city-name"]
    + City Image: [data-element-name="top-destination-city-image"]
    + Accommodation Count: xpath=//*[contains(text(), '<destination_name>')]/following-sibling::span
- Function: Specific widget displaying popular cities with images and accommodation counts.
- Interaction and Keynotes:
    + Motion: The slider hides future cards off-screen. Clicking the Next Arrow performs a sliding animation to reveal the next batch (usually 3 or 4 cards).
    + Navigation Logic:
    Initially, only the Next Arrow is visible.
    The Previous Arrow only appears on the screen after the user has clicked "Next" at least once (i.e., when there is content to scroll back to). 
    Dynamic Locator Usage: To find the accommodation count for a specific city, dynamically replace <destination_name> in the XPath with the target city string.

7. Accommodation Promotions Carousel:
- Keywords in test case: accommodation deals, hotel promos, carousel
- Locator references:
    + Section Container: [data-carousel-section="accommodation"]
    + Card Container (Visible): [data-item-id="carousel-card-container"]
    + Next Arrow: [aria-label="Next Accommodation Promotion"]
    + Previous Arrow: [aria-label="Previous Accommodation Promotion"]
- Function: Displays promotional cards for hotels/homes.
- Interaction and Keynotes:
    + Motion: Identical to the Top Destinations carousel. It behaves like a slider where hidden cards are revealed by clicking Next.
    + Navigation Logic: The Previous Arrow is initially hidden and only displays after the first interaction with the Next Arrow.

8. Flights & Activities Promotions Carousel:
- Keywords in test case: flight deals, activity promos, flight carousel
- Locator references:
    + Section Container: [data-carousel-section="flights"]
    + Next Arrow: Generic next button within container (or specific aria-label if unique).
    + Previous Arrow: Generic previous button within container.
- Function: Displays promotional cards for flights and local activities.
- Interaction and Keynotes:
    + Structure: Follows the same card-based slider structure as the Accommodation Promotions section.
    + Motion: Slides horizontally to reveal hidden cards. Supports Next/Previous navigation with the same visibility logic (Previous appears only after sliding forward).

9. Flagship Properties Carousel ("Properties we think you'll like"):
- Keywords in test case: flagship store, recommended properties, suggested hotels
- Locator references:
    + Section Container: [data-carousel-section="flagship-store"]
    + Next Arrow: Generic next button within container [aria-label="Next property"] (inferred from homepage structure).
    + Previous Arrow: Generic previous button within container.
- Function: Displays specific high-value or recommended property cards.
- Interaction and Keynotes:
    + Structure: Same visual and functional design as the Accommodation Promotions section.
    + Motion: Horizontal slider. Previous button is hidden until the user navigates forward.
